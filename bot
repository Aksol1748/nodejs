const TelegramBot = require('node-telegram-bot-api');

const token = '8337910224:AAEa23tFAUcA5xsJof8FfmAz-DRJGi32ToM';
const bot = new TelegramBot(token, { polling: true });

console.log('ü§ñ –†—É—Å—Å–∫–∏–π –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ Railway!');

// –ö–æ–º–∞–Ω–¥–∞ /start
bot.onText(/\/start/, (msg) => {
  const userName = msg.from.first_name;
  bot.sendMessage(msg.chat.id, `üëã –ü—Ä–∏–≤–µ—Ç, ${userName}!\n\nü§ñ –Ø —Ä—É—Å—Å–∫–∏–π Telegram –±–æ—Ç!\n‚úÖ –†–∞–±–æ—Ç–∞—é –Ω–∞ Railway\nüí¨ –ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å!`);
});

// –ö–æ–º–∞–Ω–¥–∞ /ping
bot.onText(/\/ping/, (msg) => {
  bot.sendMessage(msg.chat.id, 'üèì –ü–æ–Ω–≥! –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!');
});

// –ö–æ–º–∞–Ω–¥–∞ /info
bot.onText(/\/info/, (msg) => {
  bot.sendMessage(msg.chat.id, `üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:\n\nü§ñ –ë–æ—Ç: ASPGroupTest\nüîß –†–µ–∂–∏–º: Long Polling\nüåê –•–æ—Å—Ç–∏–Ω–≥: Railway\nüí¨ –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π\n‚úÖ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω`);
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ã—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
bot.on('message', (msg) => {
  if (!msg.text.startsWith('/') && !msg.from.is_bot) {
    bot.sendMessage(msg.chat.id, `üìù –í—ã –Ω–∞–ø–∏—Å–∞–ª–∏: "${msg.text}"`);
  }
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
bot.on('polling_error', (error) => {
  console.log('üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ...', error.message);
});

console.log('‚úÖ –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –≤ Telegram');
